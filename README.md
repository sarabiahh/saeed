# saeed


# GenerateStory - AI-Powered Arabic Story Generator

## Project Overview
GenerateStory is a Flask-based web application that allows users to generate AI-powered children's stories in Arabic. Users can input a story prompt, select an age range, and receive a story generated by **GPT-4**. The application also features **image generation using DALL·E 3** to illustrate the story.

## Features
* AI-powered story generation based on user input  
* Arabic language support with validation for proper input formatting  
* Image generation using DALL·E 3 for story illustrations  
* Input validation to ensure meaningful story descriptions  
* Error handling for invalid inputs and API failures  
* Deployed on PythonAnywhere  

## Tech Stack
| Category  | Libraries / Tools |
|-----------|-----------------|
| **Backend** | Flask |
| **API Calls** | OpenAI API |
| **NLP (Text Generation)** | GPT-4 |
| **Image Generation** | DALL·E 3 |
| **Frontend** | HTML, Jinja2 Templates |
| **Deployment** | PythonAnywhere, Railway (alternative) |

### 1. Clone the Repository
```bash
git clone https://github.com/sarabiahh/saeed.git
cd your-repository
```

### 2. Create and Activate a Virtual Environment
```bash
python -m venv venv
source venv/bin/activate  # For macOS/Linux
venv\Scripts\activate  # For Windows
```

### 3. Install Dependencies
```bash
pip install -r requirements.txt
```

### 4. Set Up Environment Variables
Create a **`.env`** file and add your OpenAI API key:
```bash
OPENAI_API_KEY=your_openai_api_key_here
```
Or set it in your terminal:
```bash
export OPENAI_API_KEY=your_openai_api_key_here  # macOS/Linux
set OPENAI_API_KEY=your_openai_api_key_here  # Windows
```

### 5. Run the Application
```bash
python generateStory.py
```
The app will be available at `http://127.0.0.1:5000/`.

---

## API Endpoints
| **Endpoint** | **Method** | **Description** |
|-------------|-----------|----------------|
| `/`         | GET       | Homepage (renders `Home.html`) |
| `/prompt`   | GET       | Prompt input page |
| `/book`     | GET       | Displays the generated story |
| `/generateStory` | POST | Accepts user input and generates a story |
| `/generateImageFromStory` | POST | Generates an image based on the generated story |

### Example API Request
```json
POST /generateStory
{
  "text": "ليلى والمغامرة في الغابة",
  "age": "4-6"
}
```
#### Example Response
```json
{
  "story": "ذات يوم، ذهبت ليلى إلى الغابة..."
}
```

---

## Input Validation Rules
- ✅ Input **must be in Arabic**
- ✅ Input **must be at least 3 Arabic characters long**
- ✅ Input **must contain at least 2 words** or be empty to generate a random story
- ❌ No English letters
- ❌ No special characters (e.g., `@, !, #, $`)
- ❌ No random letters without meaning

---

## Error Handling
| **Error Scenario** | **Response** |
|--------------------|-------------|
| Empty input       | `{"error": ".لمساعدتي في انشاء قصتك ادخل وصفًا لها"}` |
| Input in English  | `{"error": ".الرجاء ادخال وصف القصة باللغة العربية"}` |
| Special characters | `{"error": ".الرجاء عدم إدخال رموز خاصة في وصف القصة"}` |
| Single Arabic word | `{"error": ".الرجاء إدخال أكثر من كلمة واحدة أو ترك الحقل فارغًا"}` |
| OpenAI API error  | `{"error": "An unexpected error occurred. Please try again later."}` |

---

## Deployment
### PythonAnywhere
1. Upload your files to PythonAnywhere.
2. Configure a web app with **Flask**.
3. Set your **OPENAI_API_KEY** in the environment variables.
4. Reload the web app.

### Alternative: Railway
1. Push your code to **GitHub**.
2. Link your repository to **Railway.app**.
3. Add **OPENAI_API_KEY** as an environment variable.
4. Deploy and get your live URL.

---

## Future Improvements
- * Improve response time using caching or optimization techniques.
- * Enhance mobile compatibility for better user experience.
- * Implement a user authentication system to personalize generated content.
- * Support additional story themes and styles.
